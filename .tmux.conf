# .tmux.conf

# ---------------------------------------------------------------------------- #
#                          Basic Environment Settings                          #
# ---------------------------------------------------------------------------- #

bind-key -n S-F1 select-window -t :1
bind-key -n S-F2 select-window -t :2
bind-key -n S-F3 select-window -t :3

# Set a 24-bit color terminal. Ghostty supports true color.
# This ensures that colors within tmux are correctly rendered.
set -g default-terminal "tmux-256color"
set -ga terminal-features ",xterm-kitty:RGB" # Specific for Ghostty/kitty if needed, though tmux-256color should suffice for most apps

# Increase scrollback buffer size (lines of history you can scroll back)
set -g history-limit 10000

# Set a reasonable delay for repeating a command after hitting the prefix key
set -s escape-time 0

# Set a shorter command repeat time
set -g repeat-time 500

# Start window and pane numbering from 1 instead of 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1

# Renumber windows automatically when a window is closed
set-option -g renumber-windows on

# ---------------------------------------------------------------------------- #
#                           Prefix Key Remapping                               #
# ---------------------------------------------------------------------------- #

# Unbind the default Ctrl-b prefix
unbind C-b

# Set the new prefix to Ctrl-a
set -g prefix C-a

# Send Ctrl-a to applications within Tmux when Ctrl-a is pressed twice.
# This allows you to still send the literal Ctrl-a to programs like Emacs.
bind C-a send-prefix

# ---------------------------------------------------------------------------- #
#                            Vim Scrolling Mode                                #
# ---------------------------------------------------------------------------- #

# Enable vi-style keybindings in copy mode (scrolling/copying text)
set-window-option -g mode-keys vi

# Copy-mode default key to enter copy mode (e.g., from prefix + [ )
# Ensure these work well with your new prefix
# This sets the default copy mode key to '[', so prefix + [ enters copy mode.
# Inside copy mode, you'll use vi keys (hjkl, etc.).
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy" # Copy to macOS clipboard (pasteboard)
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy" # Select with mouse and copy

# ---------------------------------------------------------------------------- #
#                                Mouse Support                                 #
# ---------------------------------------------------------------------------- #

# Enable mouse support (clicking to switch panes/windows, scrolling)
# This is often desired for Ghostty/MacOS.
set -g mouse on

# You may need to uncomment the following if mouse scrolling isn't behaving
# as expected in some applications within tmux, though usually `set -g mouse on`
# handles most of it.
# bind-key -T copy-mode-vi WheelUpPane select-pane -t = \; send-keys -X -N 1 scroll-up
# bind-key -T copy-mode-vi WheelDownPane select-pane -t = \; send-keys -X -N 1 scroll-down

# ---------------------------------------------------------------------------- #
#                                    Status Bar                                #
# ---------------------------------------------------------------------------- #

# Example status line (optional, customize as desired)
set -g status-position bottom # or bottom
set -g status-bg '#333333'
set -g status-fg '#cccccc'
set -g status-left '#[fg=green][ #[bold]#S #[fg=green]]'
set -g status-right '#[fg=cyan]%H:%M #[fg=white]%d-%b-%y'
set -g window-status-format '#[fg=blue]#I:#W#[fg=white]'
set -g window-status-current-format '#[fg=green,bold]#I:#W#[fg=white]'

# ---------------------------------------------------------------------------- #
#                                Other Bindings                                #
# ---------------------------------------------------------------------------- #

# Split panes with - and | (horizontal and vertical)
bind | split-window -h -c "#{pane_current_path}" # Split vertically
bind - split-window -v -c "#{pane_current_path}" # Split horizontally

# Reload the tmux configuration file with prefix + r
bind r source-file ~/.tmux.conf \; display-message "Tmux config reloaded!"
